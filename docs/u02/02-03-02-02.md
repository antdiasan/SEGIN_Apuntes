---
hide:
  - toc
---

## 1 ¬øQu√© es?

El comando **TRIM** es una instrucci√≥n que el sistema operativo env√≠a al **SSD** para informarle de qu√© bloques de memoria ya no contienen datos v√°lidos.  
De esta forma, el SSD sabe qu√© celdas puede **borrar y preparar con antelaci√≥n** para futuras escrituras.  

En los sistemas operativos Windows 10/11, aunque la herramienta se llame ‚ÄòDesfragmentar y optimizar unidades‚Äô, en los SSD realmente no se hace desfragmentaci√≥n, sino que se ejecuta el comando TRIM.

---

## 2 ¬øPor qu√© lo necesitan los SSD?

A diferencia de los **HDD**, donde se puede sobrescribir directamente un sector con nuevos datos, los **SSD** funcionan con memoria **flash NAND**, que tiene dos particularidades:

1. **No se puede sobrescribir directamente**:
    - Antes de grabar nuevos datos en una celda, es necesario **borrarla primero**.  
    - Si el SSD no sabe qu√© bloques est√°n libres, tiene que borrar y escribir al mismo tiempo, lo que ralentiza el proceso.

2. **Las escrituras se hacen por p√°ginas, pero los borrados por bloques completos**:
    - Un bloque puede contener muchas p√°ginas.  
    - Para actualizar una sola p√°gina, el SSD debe copiar las p√°ginas v√°lidas a otro bloque, borrar el bloque entero y volver a escribirlo.  
    - Esto se llama **amplificaci√≥n de escritura**, y reduce el rendimiento y la vida √∫til.

<br>

üëâ Con TRIM, el sistema operativo ayuda al SSD dici√©ndole de antemano qu√© p√°ginas ya no son necesarias.  
As√≠, el controlador del SSD puede **gestionar mejor el espacio libre** y evitar trabajo innecesario.

<div style="text-align: center;">
    <img src="/images/esquema_trim.png" alt="Esquema trim" width="600px" 
    style="border-radius: 15px; box-shadow: 5px 5px 15px rgba(0,0,0,0.3);">
</div>

---

## 3 Beneficios de TRIM

- Mantiene la **velocidad de escritura estable**, incluso tras meses de uso.  
- Reduce la **amplificaci√≥n de escritura**, alargando la vida √∫til del SSD.  
- Disminuye los tiempos de acceso, mejorando la **disponibilidad de los datos**.  
- Evita degradaciones bruscas de rendimiento en discos que se llenan y vac√≠an continuamente.  

---

## 4 Comprobaci√≥n de TRIM en el sistema operativo

**En Windows**  
Ejecutar en la consola (CMD):  
```
fsutil behavior query DisableDeleteNotify
```
- Si devuelve `0` ‚Üí ‚úÖ TRIM est√° activado.  
- Si devuelve `1` ‚Üí ‚ùå TRIM no est√° funcionando.  

<br>

**En Linux**

- Ejecutar manualmente:  
  ```
  sudo fstrim -av
  ``` 

- Para habilitar la optimizaci√≥n peri√≥dica:  
  ```
  sudo systemctl enable fstrim.timer
  sudo systemctl start fstrim.timer
  ```

