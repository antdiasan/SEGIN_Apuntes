#  Hardening y Verificación del Origen

El término **hardening** (endurecimiento del sistema) hace referencia al conjunto de medidas destinadas a **reducir la superficie de ataque** de un sistema informático.  
El objetivo es eliminar servicios innecesarios, cerrar posibles puntos de entrada y reforzar la configuración de seguridad para minimizar los riesgos de vulnerabilidad.

El proceso de hardening no se limita a los sistemas operativos: también se aplica a servidores, aplicaciones, redes y dispositivos de infraestructura.

Por su parte, la **verificación del origen** consiste en asegurarse de que los programas instalados provienen de **fuentes legítimas y confiables**, evitando la instalación de software modificado o malicioso.

---

## 1. Principios del hardening

El hardening se basa en una idea fundamental: **“cuantos menos elementos activos tenga un sistema, menor será su exposición a ataques.”**  
Por ello, debe buscarse siempre un equilibrio entre funcionalidad y seguridad.

Los principios básicos que guían este proceso son:

1. **Deshabilitar lo innecesario:** servicios, puertos y cuentas que no se utilicen.  
2. **Actualizar con regularidad:** mantener el sistema y las aplicaciones con los últimos parches de seguridad.  
3. **Limitar los privilegios:** aplicar el principio de **mínimo privilegio** a usuarios y procesos.  
4. **Asegurar la configuración:** modificar los valores por defecto y reforzar contraseñas, permisos y políticas.  
5. **Monitorizar continuamente:** auditar el sistema para detectar cambios o accesos no autorizados.  

Estas acciones, aplicadas de forma sistemática, reducen drásticamente la probabilidad de un incidente de seguridad.

---

## 2. Fases del proceso de hardening

El endurecimiento de un sistema suele seguir una secuencia ordenada de pasos:

### Evaluación inicial
Antes de realizar cualquier cambio, es necesario **analizar el estado actual del sistema**:

- Versiones instaladas del sistema operativo y aplicaciones.  
- Servicios activos y puertos abiertos.  
- Políticas de contraseñas y usuarios existentes.  
- Configuraciones por defecto y componentes innecesarios.  

Esta evaluación permite establecer una línea base de seguridad.

### Eliminación de componentes innecesarios
Cada servicio activo o programa instalado representa una posible vulnerabilidad.  
Se deben desinstalar o desactivar todos aquellos elementos que no sean imprescindibles para la función del equipo:

- Servidores web o FTP no utilizados.  
- Software preinstalado o de prueba.  
- Cuentas de usuario o invitado sin uso.  
- Puertos abiertos que no se requieran.  

### Configuración segura del sistema operativo
Una vez eliminado lo innecesario, deben aplicarse **configuraciones seguras**:

- Reforzar las políticas de contraseñas.  
- Configurar el control de cuentas de usuario (UAC en Windows).  
- Limitar los permisos de ejecución y escritura en directorios sensibles.  
- Activar la auditoría de seguridad y el registro de eventos.  

### Instalación y configuración de herramientas de seguridad
Un sistema fortalecido debe disponer de mecanismos activos de defensa:

- **Software antimalware** actualizado.  
- **Firewall** local configurado para permitir solo el tráfico necesario.  
- **Cifrado de disco** (BitLocker, LUKS, etc.) en equipos que manejan datos sensibles.  
- **Bloqueo automático de sesión** tras períodos de inactividad.  

### Mantenimiento y revisión periódica
El hardening no es una acción puntual, sino un **proceso continuo**.  
Deben realizarse revisiones periódicas para detectar nuevas vulnerabilidades y asegurar que las medidas aplicadas siguen siendo efectivas.

---

## 3. Hardening en distintos entornos

El proceso de endurecimiento puede variar dependiendo del tipo de sistema o entorno:

### En sistemas operativos

- Desactivar servicios innecesarios (por ejemplo, Telnet o servidor de impresión si no se usan).  
- Limitar el acceso remoto a usuarios autorizados.  
- Mantener actualizadas las políticas de grupo y las actualizaciones del sistema.  

### En servidores

- Restringir el acceso físico y lógico solo al personal autorizado.  
- Usar certificados digitales para comunicaciones seguras.  
- Implementar copias de seguridad automáticas y cifradas.  
- Monitorizar logs y alertas del sistema.  

### En redes

- Configurar correctamente los routers, switches y puntos de acceso.  
- Cambiar contraseñas por defecto de los dispositivos de red.  
- Implementar VLANs o segmentación de red para aislar servicios críticos.  

Cada capa de seguridad refuerza la anterior, creando una **defensa en profundidad** que dificulta la explotación de vulnerabilidades.

---

## 4. Verificación del origen del software

Un sistema seguro no solo debe estar bien configurado, sino que también debe garantizar que los programas que se instalan provienen de **fuentes legítimas**.  
Instalar software desde orígenes desconocidos puede introducir malware o código no autorizado, comprometiendo la integridad del sistema.

### Fuentes confiables
El software debe descargarse siempre desde:

- Sitios web oficiales del fabricante.  
- Repositorios verificados (por ejemplo, Microsoft Store, repositorios Linux oficiales).  
- Canales certificados o firmados digitalmente.  

### Firmas digitales y certificados
Las **firmas digitales** son mecanismos criptográficos que permiten verificar que un archivo o programa **no ha sido modificado** desde su creación y que proviene de un emisor legítimo.  

Cuando se instala un programa, el sistema operativo puede comprobar:

- El **editor o desarrollador** del software.  
- Que la firma digital coincide con el certificado emitido por una **autoridad de certificación (CA)**.  
- Que el archivo no presenta alteraciones ni manipulaciones.

> **Ejemplo:** Al instalar un programa en Windows, aparece un aviso de control de cuentas (UAC) indicando si el editor es “Microsoft Corporation” u otro fabricante verificado. Si el origen es “desconocido”, el usuario debería cancelar la instalación.

### Comprobación manual del hash
Para garantizar la integridad de un archivo descargado, algunos fabricantes publican su **hash criptográfico** (MD5, SHA-256).  
El usuario puede calcular el hash del archivo y compararlo con el proporcionado por el sitio oficial:

```
CertUtil -hashfile archivo.iso SHA256
```

Si los valores coinciden, el archivo no ha sido modificado.

---

## 5. Buenas prácticas de hardening y verificación del origen

- Descargar siempre software de fuentes oficiales o repositorios verificados.  
- Mantener actualizado el sistema operativo y las aplicaciones.  
- Deshabilitar servicios y puertos innecesarios.  
- Limitar el número de usuarios con privilegios de administrador.  
- Revisar periódicamente los registros del sistema.  
- Verificar las firmas digitales antes de instalar software.  
- Implementar copias de seguridad automáticas y cifradas.  

Estas medidas, aplicadas de manera constante, incrementan notablemente la resistencia del sistema frente a ataques y minimizan el riesgo de instalación de software malicioso.

